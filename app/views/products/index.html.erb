
<select>
  <% categories_array = Category.all.map { |category| [category.name, category.id] } %>
  <%= options_for_select(categories_array) %>
</select> 
  
<%if Product.all.count != 0%>
<h1>Products</h1>
<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Image</th>
      <th>Price</th>
      <th colspan="3" align="centre">Links</th>
    </tr>
  </thead>
 <tbody>
  <% Product.all.each do |product| %>
    
    <tr>
      <td><%= product.name %></td>
      <td><%= product.description %></td>
      <td><%= image_tag product.img.url %></td>
      <td><%= product.price %></td>
      <td><%= link_to 'Show', product_path(product) %>&nbsp &nbsp 
      <% if user_signed_in? %>
        <% if current_user.is_admin == true %>
        <%= link_to 'Edit', edit_product_path(product) %>&nbsp &nbsp
        <%= link_to 'Destroy', product_path(product),
                method: :delete,
                data: { confirm: 'Are you sure?' } %></td>
        <% end %>
      <% end %>
    </tr>
  
  <% end %>
<tbody>
</table>

<% end %>
<%= link_to 'New Product', new_product_path %> &nbsp &nbsp | &nbsp &nbsp 
<%= link_to 'New Category', new_category_path %>